(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/train/train"],{4183:function(t,e,a){},"45bf":function(t,e,a){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=d(a("56cf")),o=d(a("46c0")),n=a("b992");function d(t){return t&&t.__esModule?t:{default:t}}var l={data:function(){return{Color:"#333",store:!1,liked:!1,val:"",show:!1,listData:[],obj:{},obj1:{},count:0,total:0,size:0,ids:"",href:""}},onLoad:function(e){this.message=t.getStorageSync("message"),this.ids=e.id,this.obj1=JSON.parse(e.list),e.lists?(this.obj=JSON.parse(e.lists),this.count=this.obj.likedCount,this.store=this.obj.collected,this.liked=this.obj.liked,this.size=(this.obj.size/1048576).toFixed(2)):this.initData(),this.init(e.id)},methods:{init:function(t){var e=this,a={Token:this.message.Token,id:t,infoType:4};i.default.showLoading("加载中...",function(){var t={url:"/app/service/product/similar",data:a,success:function(t){console.log(s(t," at pages\\train\\train.vue:117")),1==t.data.success?(i.default.hideLoading(),"undefined"!=t.data.body.list&&t.data.body.list.length>0&&(e.listData=t.data.body.list)):(i.default.hideLoading(),i.default.showToast(t.data.msg))}};(0,n.ajax)(t)})},initData:function(t){var e=this;e.obj1=t;var a={Token:this.message.Token,id:t.id,infoType:4};i.default.showLoading("加载中...",function(){var o={url:"/app/service/product/additional",data:a,success:function(a){console.log(s(a," at pages\\train\\train.vue:146")),1==a.data.success?(i.default.hideLoading(),e.obj=a.data.body.info,e.store=e.obj.collected,e.liked=e.obj.liked,e.ids=e.obj.product.id,e.count=e.obj.likedCount,e.size=(e.obj.size/1048576).toFixed(2),e.init(t.id)):(i.default.hideLoading(),i.default.showToast(a.data.msg))}};(0,n.ajax)(o)})},goStore:function(){var t=this;if(this.store){var e={Token:this.message.Token,id:this.ids,infoType:4},a={url:"/app/service/collect/delete",data:e,success:function(e){console.log(s(e," at pages\\train\\train.vue:199")),1==e.data.success?(t.store=!t.store,i.default.showToast("取消收藏")):i.default.showToast(e.data.msg)}};(0,n.ajax)(a)}else{var o={Token:this.message.Token,id:this.ids,infoType:4},d={url:"/app/service/collect/add",data:o,success:function(e){console.log(s(e," at pages\\train\\train.vue:178")),1==e.data.success?(t.store=!t.store,i.default.showToast("收藏成功")):i.default.showToast(e.data.msg)}};(0,n.ajax)(d)}},goZan:function(){var t=this;if(this.liked){var e={Token:this.message.Token,id:this.ids,infoType:4},a={url:"/app/service/like/delete",data:e,success:function(e){console.log(s(e," at pages\\train\\train.vue:246")),1==e.data.success?(t.count--,t.liked=!t.liked,i.default.showToast("取消点赞")):i.default.showToast(e.data.msg)}};(0,n.ajax)(a)}else{var o={Token:this.message.Token,id:this.ids,infoType:4},d={url:"/app/service/like/add",data:o,success:function(e){console.log(s(e," at pages\\train\\train.vue:224")),1==e.data.success?(t.count++,t.liked=!t.liked,i.default.showToast("点赞成功")):i.default.showToast(e.data.msg)}};(0,n.ajax)(d)}},goDown:function(){var t=this;i.default.showLoading("下载中...",function(){plus.io.resolveLocalFileSystemURL("_downloads/"+t.obj.name,function(t){t.isFile&&(i.default.hideLoading(),i.default.showToast("文件已存在:"+t.fullPath))},function(){var e=plus.downloader.createDownload(t.obj.content,{filename:"_downloads/"+t.obj.name},function(e,a){200==a?(i.default.hideLoading(),i.default.showToast("下载成功"),plus.io.resolveLocalFileSystemURL("_downloads/"+t.obj.name,function(t){t.isFile&&i.default.showToast(t.fullPath)})):i.default.showToast("下载失败: "+a)});e.start()})})},downloader:function(e){var a="https://sale.clingcenter.net/"+e;t.navigateTo({url:"/pages/parse/parse?url=".concat(a,"&type=1")})},onBackPress:function(){if(this.shareObj.shareMenu.isVisible())return this.shareObj.shareMenu.hide(),this.shareObj.alphaBg.hide(),!0},shareInfo:function(){var e=this,a={href:"https://sale.clingcenter.net/static/share/productTrain.html?ids=".concat(this.ids,"&token=").concat(this.message.Token),title:this.obj1.name,desc:this.obj1.textIntroduce,imgUrl:this.obj1.coverImage},i=[{icon:"/static/images/wx.png",text:"微信好友"},{icon:"/static/images/pyq.png",text:"朋友圈"},{icon:"/static/images/qq.png",text:"QQ"}];this.shareObj=(0,o.default)(a,i,function(e){var i={href:a.href||"",title:a.title||"",summary:a.desc||"",success:function(t){console.log(s("success:"+JSON.stringify(t)," at pages\\train\\train.vue:333"))},fail:function(t){console.log(s("fail:"+JSON.stringify(t)," at pages\\train\\train.vue:336"))}};switch(e){case 0:i.provider="weixin",i.scene="WXSceneSession",i.type=0,i.imageUrl=a.imgUrl||"",t.share(i);break;case 1:i.provider="weixin",i.scene="WXSenceTimeline",i.type=0,i.imageUrl=a.imgUrl||"",t.share(i);break;case 2:i.provider="qq",i.type=1,i.imageUrl=a.imgUrl||"",t.share(i);break}}),this.$nextTick(function(){e.shareObj.alphaBg.show(),e.shareObj.shareMenu.show()})},maxFont:function(){this.val.length>=100?i.default.showToast("反馈内容不能超过100字"):this.total=this.val.length},goSuggest:function(){this.show=!0},goSubmit:function(){var t=this;if(""!=t.val){var e={Token:this.message.Token,id:this.ids,infoType:4,content:this.val};i.default.showLoading("加载中...",function(){var a={url:"/app/service/feedback/add",data:e,success:function(e){1==e.data.success?(i.default.hideLoading(),t.show=!1,t.val="",t.total=0,i.default.showToast("提交成功")):(i.default.hideLoading(),i.default.showToast(e.data.msg))}};(0,n.ajax)(a)})}else i.default.showToast("内容不能为空")},goUpload:function(){t.switchTab({url:"/pages/upload/upload"})},goHide:function(){this.show=!1}}};e.default=l}).call(this,a("6e42")["default"],a("0de9")["default"])},"52af":function(t,e,a){"use strict";a.r(e);var s=a("45bf"),i=a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);e["default"]=i.a},"899f":function(t,e,a){"use strict";a.r(e);var s=a("9734"),i=a("52af");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("8b05");var n,d=a("f0c5"),l=Object(d["a"])(i["default"],s["b"],s["c"],!1,null,"4dfeb83a",null,!1,s["a"],n);e["default"]=l.exports},"8b05":function(t,e,a){"use strict";var s=a("4183"),i=a.n(s);i.a},9734:function(t,e,a){"use strict";var s,i=function(){var t=this,e=t.$createElement,s=(t._self._c,a("71a0")),i=a("e05b"),o=a("d08a");t.$mp.data=Object.assign({},{$root:{m0:s,m1:i,m2:o}})},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return s})},b988:function(t,e,a){"use strict";(function(t){a("0ad5"),a("921b");s(a("66fd"));var e=s(a("899f"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])}},[["b988","common/runtime","common/vendor"]]]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-editor-editor"],{"06775":function(t,e,a){"use strict";var i=a("794b5"),n=a.n(i);n.a},"0c57":function(t,e,a){"use strict";a.r(e);var i=a("58ef"),n=a("9be2");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("06775");var o=a("2877"),c=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"342eef14",null);e["default"]=c.exports},"58ef":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"contain"},[i("v-uni-view",{staticClass:"fixed"},[i("cu-custom",{attrs:{isBack:!0,Color:t.Color,backColor:t.backColor,isIcon:!0,bgColor:"bg-shadeTop text-white"}},[i("template",{attrs:{slot:"backText"},slot:"backText"}),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("个人信息")])],2)],1),i("v-uni-view",{staticClass:"lists"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"head"},[i("v-uni-view",[t._v("更换头像")]),i("img",{attrs:{src:t.head,alt:""},on:{click:function(e){e=t.$handleEvent(e),t.changHead(e)}}})],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",[t._v("姓名：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-uni-view",{staticClass:"head",on:{click:function(e){e=t.$handleEvent(e),t.changeSex(e)}}},[i("v-uni-view",[t._v("性别：")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请选择",disabled:""},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}}),i("img",{attrs:{src:a("ba84"),alt:""}})],1)],1),i("v-uni-view",{staticClass:"head",on:{click:function(e){e=t.$handleEvent(e),t.changeDate(e)}}},[i("v-uni-view",[t._v("生日：")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请选择",disabled:""},model:{value:t.birth,callback:function(e){t.birth=e},expression:"birth"}}),i("img",{attrs:{src:a("ba84"),alt:""}})],1)],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",[t._v("职务：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:t.work,callback:function(e){t.work=e},expression:"work"}})],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",[t._v("职业：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:t.hot,callback:function(e){t.hot=e},expression:"hot"}})],1),i("v-uni-view",{staticClass:"head",on:{click:function(e){e=t.$handleEvent(e),t.openPicker(e)}}},[i("v-uni-view",[t._v("地区：")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请选择",disabled:""},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}}),i("img",{attrs:{src:a("ba84"),alt:""}})],1)],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",[t._v("公司名称：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:t.nick,callback:function(e){t.nick=e},expression:"nick"}})],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",[t._v("手机号：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{staticClass:"head",staticStyle:{"border-bottom":"none"}},[i("v-uni-view",[t._v("个性签名：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:t.mark,callback:function(e){t.mark=e},expression:"mark"}})],1)],1),i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.submit(e)}}},[t._v("提交")])],1),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(e){e=t.$handleEvent(e),t.onCancel(e)},confirm:function(e){e=t.$handleEvent(e),t.onConfirm(e)}}})],1),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[i("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate},on:{cancel:function(e){e=t.$handleEvent(e),t.cancelStart(e)},confirm:function(e){e=t.$handleEvent(e),t.confirmStart(e)}},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}})],1),i("lotus-address",{attrs:{lotusAddressData:t.lotusAddressData},on:{choseVal:function(e){e=t.$handleEvent(e),t.choseValue(e)}}})],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"794b5":function(t,e,a){var i=a("f88a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("b950b3e6",i,!0,{sourceMap:!1,shadowMode:!1})},9167:function(t,e,a){"use strict";(function(t){var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("7f7f"),a("3b2b"),a("a481"),a("28a5"),a("386d");var n=i(a("0bf3")),s=a("f42a"),o=a("ad18"),c={data:function(){return{Color:"#DE2910",value:"",backColor:"#FFFFFF",head:"",name:"",sex:"",birth:"",work:"",hot:"",area:"",nick:"",phone:"",mark:"",show1:!1,show2:!1,currentTime:new Date,minDate:new Date("1919"),columns:["男","女","保密"],lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""}}},components:{"lotus-address":n.default,Toast:o.Toast},onLoad:function(){if(this.getRequest("uid")){var t=this.getRequest("uid");this.$store.commit("changeUid",t)}},onReady:function(){this.init()},methods:{getRequest:function(t){for(var e=window.location.search.substring(1),a=e.split("&"),i=0;i<a.length;i++){var n=a[i].split("=");if(n[0]==t)return n[1]}return!1},init:function(){var e=this,a={uid:this.$store.state.uid},i={url:"/api/gzh/userInfo",data:a,success:function(a){t.log(a),0==a.data.result&&(e.head=a.data.icon,e.name=a.data.username,0==a.data.sex?e.sex="女":1==a.data.sex?e.sex="男":e.sex="保密",e.birth=a.data.birthday,e.work=a.data.position,e.hot=a.data.job,e.area=a.data.address,e.nick=a.data.company,e.phone=a.data.phone,e.mark=a.data.description)}};(0,s.ajax)(i)},changHead:function(){var t=this;uni.chooseImage({sizeType:["compressed"],success:function(e){var a=e.tempFilePaths;uni.uploadFile({url:"https://m.xgcyz1978.com/api/uploadFile",filePath:a[0],name:"file",success:function(e){var a=JSON.parse(e.data);t.head="https://m.xgcyz1978.com"+a.url}})}})},getImageInfo:function(e){var a=this;uni.getImageInfo({src:e,success:function(e){t.log("压缩前",e);var i=e.width,n=e.height,s=new Image;s.src=e.path;var o=document.createElement("canvas"),c=o.getContext("2d");o.width=i/2,o.height=n/2,c.drawImage(s,0,0,i/2,n/2),o.toBlob(function(e){var i=window.URL.createObjectURL(e);t.log("压缩后",i),a.uploadFile(i)})}})},uploadFile:function(t){var e=this;uni.uploadFile({url:"https://m.xgcyz1978.com/api/uploadFile",name:"file",filePath:t,success:function(t){var a=JSON.parse(t.data),i=a.data;e.head="https://m.xgcyz1978.com"+i.url},fail:function(t){uni.showToast({title:t.errMsg,icon:"none"})}})},changeSex:function(){this.show1=!0},dateFtt:function(t,e){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return t},onCancel:function(){this.show1=!1},onConfirm:function(e){t.log(e),this.show1=!1,this.sex=e},changeDate:function(){this.show2=!0},cancelStart:function(){this.show2=!1},confirmStart:function(t){this.show2=!1,this.birth=this.dateFtt("yyyy-MM-dd",t)},openPicker:function(){this.lotusAddressData.visible=!0},choseValue:function(e){this.lotusAddressData.visible=e.visible,e.isChose&&(this.lotusAddressData.provinceName=e.provice,this.lotusAddressData.cityName=e.city,this.lotusAddressData.townName=e.town,this.area="".concat(e.provice," ").concat(e.city," ").concat(e.town)),t.log(this.region)},submit:function(){if(""!=this.head)if(""!=this.name)if(""!=this.sex)if(""!=this.sex)if(""!=this.work)if(""!=this.hot)if(""!=this.area)if(""!=this.nick)if(""!=this.phone)if(/^1[3456789]\d{9}$/.test(this.phone))if(""!=this.mark){var e=this.sex;e="女"==this.sex?0:"男"==this.sex?1:2;var a={uid:this.$store.state.uid,icon:this.head,username:this.name,sex:e,birthday:this.birth,position:this.work,job:this.hot,address:this.area,company:this.nick,description:this.mark,phone:this.phone},i={url:"/api/gzh/updateUserInfo",data:a,success:function(e){t.log(e),0==e.data.result&&((0,o.Toast)("保存成功"),uni.navigateBack({delta:1}))}};(0,s.ajax)(i)}else(0,o.Toast)("签名不能为空");else(0,o.Toast)("手机号格式不正确");else(0,o.Toast)("手机号不能为空");else(0,o.Toast)("公司不能为空");else(0,o.Toast)("请选择地区");else(0,o.Toast)("职业不能为空");else(0,o.Toast)("职务不能为空");else(0,o.Toast)("请选择生日");else(0,o.Toast)("请选择性别");else(0,o.Toast)("姓名不能为空");else(0,o.Toast)("请上传头像")}}};e.default=c}).call(this,a("5a52")["default"])},"9be2":function(t,e,a){"use strict";a.r(e);var i=a("9167"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},ba84:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA6UlEQVRYR8XXzQ3CMAyGYbsTRckCdAM2ADZgE9gAmIAVWCBVRmGBSKhXhIh/PkOuTvU+7cUq058Pj/qllC0R7Xrvh9bac3RfO5cC7kTUeu8zGjEErG+Uc94z8yUCIQJEIsSAKIQKEIFQA9AIEwCJMANQCBcAgXADvAgIwIOAAawIKMCCgAPeEI9a6/xtQ4YASinXdYUT0a3Wuv8pQBNfYdAvoI1DAZY4DGCNQwCeuBvgjbsAiLgZgIqbAMi4GoCOqwARcTEgKi4C5JyPzHySLBbtf6EIkFJK0zRtlmU5WwKjZ6DLaBT7NH8Bz0DMId00QY0AAAAASUVORK5CYII="},f88a:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"uni-page-body[data-v-342eef14]{width:100%;height:100%}.contain[data-v-342eef14]{width:100%;height:100%;background:#f8f8f8}.lists[data-v-342eef14]{width:100%;padding:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.list[data-v-342eef14]{width:100%;padding:%?20?%;background:#fff;border-radius:4px}.head[data-v-342eef14]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:14px;color:#333;border-bottom:1px solid #eee;padding:%?20?% 0}.head>img[data-v-342eef14]{width:%?120?%;height:%?120?%;border-radius:50%}.head>uni-input[data-v-342eef14]{text-align:right;margin-right:%?34?%}.right[data-v-342eef14]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.right>img[data-v-342eef14]{width:%?24?%}.right>uni-input[data-v-342eef14]{text-align:right;margin-right:%?12?%}.submit[data-v-342eef14]{width:90%;height:%?90?%;line-height:%?90?%;text-align:center;border-radius:4px;background:#de2910;font-size:15px;color:#fff;margin:%?30?% auto}",""])}}]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/public/public"],{"374b":function(t,e,a){},"3d3a":function(t,e,a){"use strict";a.r(e);var i=a("bc7d"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},4334:function(t,e,a){"use strict";(function(t){a("9183"),a("921b");i(a("66fd"));var e=i(a("d225"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},7211:function(t,e,a){"use strict";var i=a("374b"),o=a.n(i);o.a},affc:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=(t._self._c,a("25be"));t.$mp.data=Object.assign({},{$root:{m0:i}})},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},bc7d:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("92ac"),o=s(a("51d2")),n=s(a("95a3"));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){return a.e("components/robby-image-upload/robby-image-upload").then(a.bind(null,"6b8b"))},u={data:function(){return{show:!1,radio:1,user:"",card:"",tel:"",address:"",content:"",location:"上传位置",imageData:[],url:n.default.baseUrl}},components:{robbyImageUpload:l},onShow:function(){this.$store.state.location&&(this.location=this.$store.state.location)},methods:{shows:function(){this.show=!0},RadioChange:function(t){this.radio=t.detail.value,this.show=!1},deleteImage:function(t){console.log(t)},addImage:function(t){console.log(this.imageData),console.log(t)},inputList:function(t){console.log(t)},goMap:function(){t.navigateTo({url:"../map/map"})},submit:function(){if(""!=this.user){var e=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;if(""!=this.card)if(e.test(this.card))if(""!=this.tel)if(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.tel))if(""!=this.address)if(""!=this.content)if(this.content.length>300)o.default.showTitle("举报内容不能超过300字");else if(0!=this.imageData.length)if("上传位置"!=this.location){for(var a=this,n=this.imageData,s=0;s<n.length;s++)n[s].indexOf(this.url)>-1&&(n[s]=n[s].substr(this.url.length));var l=n.join("|"),u={uid:t.getStorageSync("uid"),anonymous:this.radio,cname:this.user,idnum:this.card,telnum:this.tel,address:this.address,content:this.content,material:l,location:this.location,latitude:this.$store.state.lat,longitude:this.$store.state.lon};o.default.showLoading("加载中...");var d={url:"/complSchool/submit",data:u,header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){console.log(e),1==e.data.success&&(o.default.hideLoading(),a.clear(),o.default.showTitle("提交成功"),setTimeout(function(){t.navigateBack({delta:1})},500))}};(0,i.ajax)(d)}else o.default.showTitle("请上传位置");else o.default.showTitle("请上传图片");else o.default.showTitle("举报内容不能为空");else o.default.showTitle("地址不能为空");else o.default.showTitle("手机号格式不正确");else o.default.showTitle("手机号不能为空");else o.default.showTitle("身份证不合法");else o.default.showTitle("身份证不能为空")}else o.default.showTitle("姓名不能为空")},clear:function(){this.radio=1,this.user="",this.card="",this.tel="",this.address="",this.content="",this.location="上传位置",this.imageData=[],this.$store.commit("changeLocation","")}}};e.default=u}).call(this,a("543d")["default"])},d225:function(t,e,a){"use strict";a.r(e);var i=a("affc"),o=a("3d3a");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("7211");var s=a("2877"),l=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports}},[["4334","common/runtime","common/vendor"]]]);
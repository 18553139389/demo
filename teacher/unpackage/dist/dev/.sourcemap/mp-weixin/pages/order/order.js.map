{"version":3,"sources":["uni-app:///main.js","webpack:///F:/my/teacher/pages/order/order.vue?3fbe","webpack:///F:/my/teacher/pages/order/order.vue?44fb","webpack:///F:/my/teacher/pages/order/order.vue?88d9","webpack:///F:/my/teacher/pages/order/order.vue?e23e","uni-app:///pages/order/order.vue","webpack:///F:/my/teacher/pages/order/order.vue?e115","webpack:///F:/my/teacher/pages/order/order.vue?631c"],"names":["createPage","Page"],"mappings":"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","file":"pages/order/order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=127632e4&scoped=true&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=127632e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"127632e4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=127632e4&scoped=true&\"","var components = {\n  mescrollUni: function() {\n    return import(\n      /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"../../static/images/address.png\")\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"contain\">\r\n\t\t<view class=\"fixed\">\r\n\t\t\t<cu-custom :isBack=\"false\" :Color=\"Color\" :isIcon=\"false\" bgColor=\"bg-shadeTop text-white\">\r\n\t\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t\t<block slot=\"content\">接单大厅</block>\r\n\t\t\t</cu-custom>\r\n\t\t</view>\r\n\t\t<view class=\"wrapper\">\r\n\t\t\t<view class=\"tab\">\r\n\t\t\t\t<view class=\"tab-item\" v-for=\"(v,k) in tab\" :key=\"k\" :class=\"tabItem == k ? 'active' : ''\" @tap=\"changeTab(k)\">\r\n\t\t\t\t\t<view>{{v}}</view>\r\n\t\t\t\t\t<view class=\"icon\" v-if=\"k == 0 && count4 != 0\">{{count4}}</view>\r\n\t\t\t\t\t<view class=\"icon\" v-if=\"k == 1 && count1 != 0\">{{count1}}</view>\r\n\t\t\t\t\t<view class=\"icon\" v-if=\"k == 2 && count2 != 0\">{{count2}}</view>\r\n\t\t\t\t\t<view class=\"icon\" v-if=\"k == 3 && count3 != 0\">{{count3}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"lists\">\r\n\t\t\t\t<mescroll-uni :down=\"downOption\" @down=\"downCallback\" :up=\"upOption\" @up=\"upCallback\" @init=\"mescrollInit\"\r\n\t\t\t\t@emptyclick=\"emptyClick\" @topclick=\"topClick\">\r\n\t\t\t\t\t<view class=\"item\" @tap=\"goDetail(v.id)\" v-for=\"(v,k) in list\" :key=\"k\">\r\n\t\t\t\t\t\t<view class=\"titles\">\r\n\t\t\t\t\t\t\t<view class=\"order\">订单编号：{{v.orderNo}}</view>\r\n\t\t\t\t\t\t\t<view class=\"name\" v-if=\"v.serviceItem == 1\">保养滤芯</view>\r\n\t\t\t\t\t\t\t<view class=\"name\" v-if=\"v.serviceItem == 2\">故障维修</view>\r\n\t\t\t\t\t\t\t<view class=\"name\" v-if=\"v.serviceItem == 3\">上门安装</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"product\">\r\n\t\t\t\t\t\t\t<img :src=\"'https://weixiu.lixinapp.com' + v.typeImage\" alt=\"\">\r\n\t\t\t\t\t\t\t<view class=\"product-item\">\r\n\t\t\t\t\t\t\t\t<view>{{v.typeName}}</view>\r\n\t\t\t\t\t\t\t\t<view>下单时间：{{v.placeTime}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"address\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"../../static/images/address.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"location\">{{v.districtFullName}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"btns\" @tap=\"\" v-if=\"tabItem == 0\">\r\n\t\t\t\t\t\t\t<view class=\"btns-no\" style=\"background: #007bbf;margin-left: 24upx;\" @tap.stop=\"goOrder(v.id)\">立即抢单</view>\r\n\t\t\t\t\t\t\t<view class=\"btns-no\" @tap.stop=\"goRefuse(v.id)\">拒单</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"btns\" @tap=\"\" v-if=\"tabItem == 1\">\r\n\t\t\t\t\t\t\t<view class=\"btns-no\" style=\"background: #007bbf;margin-left: 24upx;\" @tap.stop=\"goSure(v.id, v.serviceItem, v.orderNo)\">确认完工</view>\r\n\t\t\t\t\t\t\t<view class=\"btns-no\" @tap.stop=\"goPhone(v.phone)\">联系客户</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"pay\" v-if=\"tabItem == 2\">\r\n\t\t\t\t\t\t\t<!-- <view>预付款:￥{{v.advancePayment}}</view> -->\r\n\t\t\t\t\t\t\t<view class=\"payState\">待支付:￥{{v.realPay}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"pay\" v-if=\"tabItem == 3\" style=\"flex-direction: row-reverse;\">\r\n\t\t\t\t\t\t\t<view class=\"payState\">合计:￥{{v.realPay}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</mescroll-uni>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Toast from '../../common/toast.js'\r\n\timport {ajax} from '../../request/request.js'\r\n\timport MescrollUni from \"../../components/mescroll-uni/mescroll-uni.vue\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tColor: '#333',\r\n\t\t\t\ttabItem: 0,\r\n\t\t\t\ttab: ['待接单', '待服务', '待付款', '已完成'],\r\n\t\t\t\tlist: [],\r\n\t\t\t\tmescroll: null, //mescroll实例对象\r\n\t\t\t\tdownOption: {\r\n\t\t\t\t\tuse: true, // 是否启用下拉刷新; 默认true\r\n\t\t\t\t\tauto: true, // 是否在初始化完毕之后自动执行下拉刷新的回调; 默认true\r\n\t\t\t\t\tautoShowLoading: true, // 如果设置auto=true(在初始化完毕之后自动执行下拉刷新的回调),那么是否显示下拉刷新的进度; 默认false\r\n\t\t\t\t\tisLock: false, // 是否锁定下拉刷新,默认false;\r\n\t\t\t\t\tisBoth: true, // 下拉刷新时,如果滑动到列表底部是否可以同时触发上拉加载;默认true,两者可同时触发;\r\n\t\t\t\t\toffset: 80, // 在列表顶部,下拉大于80upx,松手即可触发下拉刷新的回调\r\n\t\t\t\t\tinOffsetRate: 1, // 在列表顶部,下拉的距离小于offset时,改变下拉区域高度比例;值小于1且越接近0,高度变化越小,表现为越往下越难拉\r\n\t\t\t\t\toutOffsetRate: 0.2, // 在列表顶部,下拉的距离大于offset时,改变下拉区域高度比例;值小于1且越接近0,高度变化越小,表现为越往下越难拉\r\n\t\t\t\t\tbottomOffset: 20, // 当手指touchmove位置在距离body底部20upx范围内的时候结束上拉刷新,避免Webview嵌套导致touchend事件不执行\r\n\t\t\t\t\tminAngle: 45, // 向下滑动最少偏移的角度,取值区间  [0,90];默认45度,即向下滑动的角度大于45度则触发下拉;而小于45度,将不触发下拉,避免与左右滑动的轮播等组件冲突;\r\n\t\t\t\t\ttextInOffset: '下拉刷新', // 下拉的距离在offset范围内的提示文本\r\n\t\t\t\t\ttextOutOffset: '释放更新', // 下拉的距离大于offset范围的提示文本\r\n\t\t\t\t\ttextLoading: '加载中 ...' // 加载中的提示文本\r\n\t\t\t\t},\r\n\t\t\t\tupOption: {\r\n\t\t\t\t\tuse: true, // 是否启用上拉加载; 默认true\r\n\t\t\t\t\tauto: true, // 是否在初始化完毕之后自动执行上拉加载的回调; 默认true\r\n\t\t\t\t\tisLock: false, // 是否锁定上拉加载,默认false;\r\n\t\t\t\t\tisBoth: true, // 上拉加载时,如果滑动到列表顶部是否可以同时触发下拉刷新;默认true,两者可同时触发;\r\n\t\t\t\t\tpage: {\r\n\t\t\t\t\t\tnum: 0, // 当前页码,默认0,回调之前会加1,即callback(page)会从1开始\r\n\t\t\t\t\t\tsize: 10, // 每页数据的数量\r\n\t\t\t\t\t\ttime: null // 加载第一页数据服务器返回的时间; 防止用户翻页时,后台新增了数据从而导致下一页数据重复;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnoMoreSize: 6, // 如果列表已无数据,可设置列表的总数量要大于等于5条才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看\r\n\t\t\t\t\ttextLoading: '加载中 ...', // 加载中的提示文本\r\n\t\t\t\t\ttextNoMore: '-- 已经到底了 --', // 已经到底了的提示文本\r\n\t\t\t\t\ttoTop: {\r\n\t\t\t\t\t\t// 回到顶部按钮,需配置src才显示\r\n\t\t\t\t\t\tsrc: \"http://www.mescroll.com/img/mescroll-totop.png\", // 图片路径\r\n\t\t\t\t\t\toffset: 1000, // 列表滚动多少距离才显示回到顶部按钮,默认1000\r\n\t\t\t\t\t\tduration: 300 // 回到顶部的动画时长,默认300ms\r\n\t\t\t\t\t},\r\n\t\t\t\t\tempty: {\r\n\t\t\t\t\t\tuse: true, // 是否显示空布局\r\n\t\t\t\t\t\ticon: \"http://www.mescroll.com/img/mescroll-empty.png\", // 图标路径\r\n\t\t\t\t\t\ttip: '没有符合条件的订单', // 提示\r\n\t\t\t\t\t\t// btnText: '去逛逛 >' // 按钮\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcount1: 0,\r\n\t\t\t\tcount2: 0,\r\n\t\t\t\tcount3: 0,\r\n\t\t\t\tcount4: 0,\r\n\t\t\t\ttype: 2\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tMescrollUni\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (this.mescroll) {\r\n\t\t\t\tthis.list = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tthis.mescroll = null;\r\n\t\t},\r\n\t\t//注册滚动到底部的事件,用于上拉加载\r\n\t\tonReachBottom() {\r\n\t\t\tthis.mescroll && this.mescroll.onReachBottom()\r\n\t\t},\r\n\t\t//注册列表滚动事件,用于下拉刷新\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.mescroll && this.mescroll.onPageScroll(e)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeTab(k) {\r\n\t\t\t\tthis.tabItem = k\r\n\t\t\t\tif (k == 0) {\r\n\t\t\t\t\tthis.type = 2\r\n\t\t\t\t} else if (k == 1) {\r\n\t\t\t\t\tthis.type = 3\r\n\t\t\t\t} else if (k == 2) {\r\n\t\t\t\t\tthis.type = 4\r\n\t\t\t\t} else if (k == 3) {\r\n\t\t\t\t\tthis.type = 5\r\n\t\t\t\t}\r\n\t\t\t\tthis.list = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tgoOrder(id) {\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\twithSubscriptions: true,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(!res.subscriptionsSetting.mainSwitch) {\r\n\t\t\t\t\t\t\t//消息推送授权\r\n\t\t\t\t\t\t\tuni.requestSubscribeMessage({\r\n\t\t\t\t\t\t\t\ttmplIds: ['Wl9gX8snh4_-PNAEwChDNDnPA-S-3NTObHCI09G3vzY', 'LMVqVdOmHjy5E9dBf8MqRBndqMhAAc8LeYVwtlCGARI'],\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet self = this\r\n\t\t\t\tlet data1 = {\r\n\t\t\t\t\tmid: uni.getStorageSync('uid'),\r\n\t\t\t\t\torderId: id\r\n\t\t\t\t}\r\n\t\t\t\tToast.showLoading('', function() {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\turl: 'app/service/maintainer/order/receive',\r\n\t\t\t\t\t\tdata: data1,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.data.success == true) {\r\n\t\t\t\t\t\t\t\tToast.hideLoading()\r\n\t\t\t\t\t\t\t\tToast.showToast('抢单成功')\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tself.list = []\r\n\t\t\t\t\t\t\t\t\tself.mescroll.resetUpScroll()\r\n\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tToast.hideLoading()\r\n\t\t\t\t\t\t\t\tToast.showToast(res.data.msg)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajax(data)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoRefuse(id) {\r\n\t\t\t\tlet self = this\r\n\t\t\t\tlet data1 = {\r\n\t\t\t\t\tmid: uni.getStorageSync('uid'),\r\n\t\t\t\t\torderId: id\r\n\t\t\t\t}\r\n\t\t\t\tToast.showLoading('', function() {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\turl: 'app/service/maintainer/order/refuse',\r\n\t\t\t\t\t\tdata: data1,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.data.success == true) {\r\n\t\t\t\t\t\t\t\tToast.hideLoading()\r\n\t\t\t\t\t\t\t\tToast.showToast('拒单成功')\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tself.list = []\r\n\t\t\t\t\t\t\t\t\tself.mescroll.resetUpScroll()\r\n\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tToast.hideLoading()\r\n\t\t\t\t\t\t\t\tToast.showToast(res.data.msg)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajax(data)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoSure(id, type, num) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/finish/finish?id=' + id + '&type=' + type + '&num=' + num\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoDetail(id) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/detail/detail?id=' + id + '&type=' + this.type\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// mescroll组件初始化的回调,可获取到mescroll对象\r\n\t\t\tmescrollInit(mescroll) {\r\n\t\t\t\tthis.mescroll = mescroll\r\n\t\t\t},\r\n\t\t\t/*下拉刷新的回调 */\r\n\t\t\tdownCallback(mescroll) {\r\n\t\t\t\t// 这里加载你想下拉刷新的数据, 比如刷新轮播数据\r\n\t\t\t\t// loadSwiper();\r\n\t\t\t\t// 下拉刷新的回调,默认重置上拉加载列表为第一页 (自动执行 mescroll.num=1, 再触发upCallback方法 )\r\n\t\t\t\tthis.list = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\t/*上拉加载的回调: mescroll携带page的参数, 其中num:当前页 从1开始, size:每页数据条数,默认10 */\r\n\t\t\tupCallback(mescroll) {\r\n\t\t\t\tlet pageNum = mescroll.num // 页码, 默认从1开始\r\n\t\t\t\tlet pageSize = mescroll.size // 页长, 默认每页10条\r\n\t\t\t\tlet self = this\r\n\t\t\t\tself.init(mescroll)\r\n\t\t\t},\r\n\t\t\t// 点击回到顶部按钮的回调\r\n\t\t\ttopClick() {\r\n\t\t\t\tconsole.log('点击了回到顶部按钮');\r\n\t\t\t},\r\n\t\t\tinit(mescroll) {\r\n\t\t\t\t//获取搜索数据\r\n\t\t\t\tlet self = this\r\n\t\t\t\tlet data1 = {\r\n\t\t\t\t\tmid: uni.getStorageSync('uid'),\r\n\t\t\t\t\tstatus: this.type,\r\n\t\t\t\t\tpageNo: mescroll.num,\r\n\t\t\t\t\tpageSize: mescroll.size\r\n\t\t\t\t}\r\n\t\t\t\tToast.showLoading('', function() {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\turl: 'app/service/maintainer/order/list',\r\n\t\t\t\t\t\tdata: data1,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.data.success == true) {\r\n\t\t\t\t\t\t\t\tToast.hideLoading()\r\n\t\t\t\t\t\t\t\tself.count1 = res.data.body.waitingServiceCount\r\n\t\t\t\t\t\t\t\tself.count2 = res.data.body.waitingPayCount\r\n\t\t\t\t\t\t\t\tself.count3 = res.data.body.completeCount\r\n\t\t\t\t\t\t\t\tself.count4 = res.data.body.waitingReceiveCount\r\n\t\t\t\t\t\t\t\tif (res.data.body.page.list) {\r\n\t\t\t\t\t\t\t\t\tfor (var j = 0; j < res.data.body.page.list.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\tself.list.push(res.data.body.page.list[j])\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tself.list.forEach((item) => {\r\n\t\t\t\t\t\t\t\t\titem.total = (parseFloat(item.amount) - parseFloat(item.advancePayment)).toFixed(2)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log(self.list)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tToast.hideLoading()\r\n\t\t\t\t\t\t\t\tToast.showToast(res.data.msg)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 接口返回的当前页数据列表 (数组)\r\n\t\t\t\t\t\t\tlet curPageData = []\r\n\t\t\t\t\t\t\tif (res.data.body.page.list) {\r\n\t\t\t\t\t\t\t\tcurPageData = res.data.body.page.list\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 接口返回的总页数 (比如列表有26个数据,每页10条,共3页; 则totalPage值为3)\r\n\t\t\t\t\t\t\tlet totalPage = 1\r\n\t\t\t\t\t\t\tif (res.data.body.page.totalPage) {\r\n\t\t\t\t\t\t\t\ttotalPage = res.data.body.page.totalPage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmescroll.endByPage(curPageData.length, totalPage)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajax(data)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoPhone(call) {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: call //仅为示例\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.contain {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\r\n\t\t.fixed {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.wrapper {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\r\n\t\t\t.tab {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 80upx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\t// top: calc(100upx + 25px);\r\n\t\t\t\tbackground: #FFFFFF;\r\n\t\t\t\tz-index: 99;\r\n\r\n\t\t\t\t.tab-item {\r\n\t\t\t\t\theight: 80upx;\r\n\t\t\t\t\tline-height: 80upx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tfont-size: 30upx;\r\n\t\t\t\t\tcolor: #333;\r\n\r\n\t\t\t\t\t&.active {\r\n\t\t\t\t\t\tborder-bottom: 6upx solid #006EE3;\r\n\t\t\t\t\t\tcolor: #006EE3;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.icon {\r\n\t\t\t\t\t\twidth: 30upx;\r\n\t\t\t\t\t\theight: 30upx;\r\n\t\t\t\t\t\tline-height: 30upx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tbackground: red;\r\n\t\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 12upx;\r\n\t\t\t\t\t\tright: -16upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.lists {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tpadding-top: 100upx;\r\n\r\n\t\t\t\t.item {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tpadding: 0 28upx 30upx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tborder-bottom: 8upx solid #eee;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\r\n\t\t\t\t\t.titles {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 80upx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.order {\r\n\t\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.name {\r\n\t\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\t\tcolor: #f55555;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tpadding-bottom: 30upx;\r\n\t\t\t\t\t\tborder-bottom: 1px solid #eee;\r\n\r\n\t\t\t\t\t\timg {\r\n\t\t\t\t\t\t\twidth: 160upx;\r\n\t\t\t\t\t\t\theight: 160upx;\r\n\t\t\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.product-item {\r\n\t\t\t\t\t\t\twidth: 76%;\r\n\t\t\t\t\t\t\theight: 160upx;\r\n\t\t\t\t\t\t\tpadding-left: 24upx;\r\n\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\r\n\t\t\t\t\t\t\t.address {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\t\t\tcolor: #333;\r\n\r\n\t\t\t\t\t\t\t\timg {\r\n\t\t\t\t\t\t\t\t\twidth: 30upx;\r\n\t\t\t\t\t\t\t\t\theight: 36upx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.location {\r\n\t\t\t\t\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t\t\tmargin-left: 12upx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.btns {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row-reverse;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tmargin-top: 30upx;\r\n\r\n\t\t\t\t\t\t.btns-no {\r\n\t\t\t\t\t\t\twidth: 30%;\r\n\t\t\t\t\t\t\theight: 60upx;\r\n\t\t\t\t\t\t\tline-height: 60upx;\r\n\t\t\t\t\t\t\tborder: 1px solid #eee;\r\n\t\t\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tbackground: #f55555;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.pay {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row-reverse;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tmargin-top: 30upx;\r\n\r\n\t\t\t\t\t\t.payState {\r\n\t\t\t\t\t\t\twidth: 35%;\r\n\t\t\t\t\t\t\theight: 60upx;\r\n\t\t\t\t\t\t\tline-height: 60upx;\r\n\t\t\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tbackground: #14be12;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.wait {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 80upx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.finish {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 80upx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.item:last-child {\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&id=127632e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&id=127632e4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594862564659\n      var cssReload = require(\"F:/my/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0564":function(t,n,e){"use strict";var a=e("a2d5"),o=e.n(a);o.a},"0a37":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("17c9")),o=e("cea1"),i=u(e("a55d"));function u(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{call:"",pass:""}},onLoad:function(){this.init()},methods:{init:function(){t.getStorageSync("uid")&&(this.call=t.getStorageSync("call"),this.pass=t.getStorageSync("pass"),this.login(t.getStorageSync("uid"),t.getStorageSync("rongYunToken")))},login:function(n,e){a.default.showLoading("登录中...",(function(){wx.$app.login({userID:n,userSig:e}).then((function(){a.default.hideLoading(),setTimeout((function(){t.switchTab({url:"/pages/index/index"})}),500)})).catch((function(){a.default.hideLoading(),a.default.showToast("登录失败")}))}))},goRegister:function(){t.navigateTo({url:"/pages/register/register"})},goForget:function(){t.navigateTo({url:"/pages/forget/forget"})},goLogin:function(){if(""!=this.call)if(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.call))if(""!=this.pass){var n=this,e={cmd:"userLogin",phone:this.call,password:(0,i.default)(this.pass)};a.default.showLoading("",(function(){var i={data:e,success:function(e){if(console.log(e),0==e.data.result){if(a.default.hideLoading(),2==e.data.type)return void a.default.showToast("小程序不能登录专家端");t.setStorageSync("uid",e.data.uid),t.setStorageSync("rongYunToken",e.data.rongYunToken),t.setStorageSync("nick",e.data.nickname),t.setStorageSync("icon",e.data.icon),t.setStorageSync("call",n.call),t.setStorageSync("pass",n.pass),setTimeout((function(){n.login(e.data.uid,e.data.rongYunToken)}),100)}else a.default.hideLoading(),a.default.showToast(e.data.resultNote)}};(0,o.ajax)(i)}))}else a.default.showToast("密码不能为空");else a.default.showToast("手机号格式不正确");else a.default.showToast("手机号不能为空")}}};n.default=s}).call(this,e("543d")["default"])},"3c90":function(t,n,e){"use strict";var a,o=function(){var t=this,n=t.$createElement;t._self._c},i=[];e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}))},"42dc":function(t,n,e){"use strict";e.r(n);var a=e("0a37"),o=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},4599:function(t,n,e){"use strict";e.r(n);var a=e("3c90"),o=e("42dc");for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("0564");var u,s=e("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"38553f0c",null,!1,a["a"],u);n["default"]=c.exports},"92bd":function(t,n,e){"use strict";(function(t){e("7954");a(e("66fd"));var n=a(e("4599"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},a2d5:function(t,n,e){}},[["92bd","common/runtime","common/vendor"]]]);
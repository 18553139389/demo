(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/report/report"],{"12cf":function(t,e,o){"use strict";var n=o("6b5f"),a=o.n(n);a.a},"3b96":function(t,e,o){"use strict";o.r(e);var n=o("829d"),a=o("9155");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("12cf");var s,r=o("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"7388fda6",null,!1,n["a"],s);e["default"]=c.exports},"59d2":function(t,e,o){"use strict";(function(t){o("9fbb"),o("921b");n(o("66fd"));var e=n(o("3b96"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},6947:function(t,e,o){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o("01bc"),i=s(o("d4ef"));function s(t){return t&&t.__esModule?t:{default:t}}var r=function(){return Promise.all([o.e("common/vendor"),o.e("components/mescroll-uni/mescroll-uni")]).then(o.bind(null,"0196"))},c=function(){return Promise.all([o.e("common/vendor"),o.e("components/w-picker/w-picker")]).then(o.bind(null,"d9ad"))},l=function(){return Promise.all([o.e("common/vendor"),o.e("components/chunLei-modal/chunLei-modal")]).then(o.bind(null,"132f"))},u={data:function(){return{Color:"#333",show1:!1,val:"",date1:"",date2:"",value:!1,ids:"",inputData:{content:[{title:"货物重量：",content:"",unit:"",type:"number",placeholder:""}]},type1:"input",list:[],total:"",totalPage:0,mescroll:null,downOption:{use:!0,auto:!0,autoShowLoading:!0,isLock:!1,isBoth:!0,offset:80,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ..."},upOption:{use:!0,auto:!0,isLock:!1,isBoth:!0,page:{num:0,size:4,time:null},noMoreSize:6,textLoading:"加载中 ...",textNoMore:"-- 没有更多数据 --",toTop:{src:"http://www.mescroll.com/img/mescroll-totop.png",offset:1e3,duration:300},empty:{use:!0,icon:"http://www.mescroll.com/img/mescroll-empty.png",tip:"没有进出记录数据"}},type:0}},onLoad:function(){var t=new Date,e=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),o=t.getDate()>9?t.getDate():"0"+t.getDate();this.date2=t.getFullYear()+"-"+e+"-"+o;var n=new Date(t-6048e5),a=n.getFullYear(),i=n.getMonth()+1>9?n.getMonth()+1:"0"+(n.getMonth()+1),s=n.getDate()>9?n.getDate():"0"+n.getDate();this.date1=a+"-"+i+"-"+s},onShow:function(){this.val=this.$store.state.carNum,this.mescroll&&(this.list=[],this.mescroll.resetUpScroll())},components:{MescrollUni:r,wPicker:c,chunLeiModal:l},onUnload:function(){this.mescroll=null,this.value=!1},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},methods:{mescrollInit:function(t){this.mescroll=t},downCallback:function(t){this.list=[],this.mescroll.resetUpScroll()},upCallback:function(t){t.num,t.size;var e=this;e.init(t)},topClick:function(){console.log(t("点击了回到顶部按钮"," at pages\\report\\report.vue:201"))},init:function(e){var o=this,s=(e.num,e.size,this.$store.state.productItem),r=this.$store.state.productState,c=(this.$store.state.carNum,{token:n.getStorageSync("token"),adduser:"",inorout:r,buyorsale:0,goodsname:s,begintime:this.date1,endtime:this.date2,carnum:this.val,pageno:e.num,pagesize:e.size,os:n.getSystemInfoSync().platform,osversion:n.getSystemInfoSync().system,appversion:n.getStorageSync("appversion")}),l={url:"/api/Truck/AllRecords",data:c,success:function(a){console.log(t(a," at pages\\report\\report.vue:231")),0==a.data.Code?(a.data.Customerdata.forEach(function(t){o.list.push(t)}),o.total=a.data.Extra):-2==a.data.Code||-1==a.data.Code?(i.default.showToast(a.data.Description),n.removeStorageSync("token"),setTimeout(function(){n.redirectTo({url:"/pages/login/login"})},500)):i.default.showToast(a.data.Description);var s=a.data.Customerdata,r=a.data.Extra.Recordcount;e.endByPage(s.length,r)}};(0,a.ajax)(l)},viewRecord:function(t,e){""!=e&&null!=e&&n.navigateTo({url:"/pages/text/text?title="+t+"&url=http://39.99.254.186/page/billinfo&billno="+e+"&apisecret="+n.getStorageSync("apisecret")})},goCar:function(){n.navigateTo({url:"/pages/check/check"})},goNum:function(){n.navigateTo({url:"/pages/carNumber/carNumber"})},choiceDate1:function(){this.$refs.picker1.show()},choiceDate2:function(){this.$refs.picker2.show()},onConfirm1:function(t){this.date1=t.result;var e=new Date(t.result);e.setDate(e.getDate()+7);var o=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),n=e.getDate()>9?e.getDate():"0"+e.getDate();this.date2=e.getFullYear()+"-"+o+"-"+n,this.list=[],this.mescroll.resetUpScroll()},onConfirm2:function(t){var e=this.date1.replace(/-/g,"/"),o=t.result;o=o.replace(/-/g,"/"),e=Date.parse(e),o=Date.parse(o),e>=o?i.default.showToast("结束日期不能小于开始日期"):(this.date2=t.result,this.list=[],this.mescroll.resetUpScroll())},goTotal:function(){n.navigateTo({url:"/pages/carsCount/carsCount"})},changeWeight:function(t,e){0!=n.getStorageSync("enable")&&(this.value=!0,this.ids=t,this.inputData.content[0].content=e.goodsweight,this.inputData.content[0].unit=e.goodsweightunit)},onConfirm3:function(t){var e=this,o={token:n.getStorageSync("token"),id:this.ids,goodsjsweight:t[0].content,os:n.getSystemInfoSync().platform,osversion:n.getSystemInfoSync().system,appversion:n.getStorageSync("appversion")};i.default.showLoading("",function(){var t={url:"/api/Truck/ModifyRecords",data:o,success:function(t){0==t.data.Code?(i.default.hideLoading(),i.default.showToast("修改成功"),e.list=[],e.mescroll.resetUpScroll()):-2==t.data.Code||-1==t.data.Code?(i.default.hideLoading(),i.default.showToast(t.data.Description),n.removeStorageSync("token"),setTimeout(function(){n.redirectTo({url:"/pages/login/login"})},500)):(i.default.hideLoading(),i.default.showToast(t.data.Description))}};(0,a.ajax)(t)})},cancel3:function(){},onBackPress:function(t){this.value=!1}}};e.default=u}).call(this,o("0de9")["default"],o("6e42")["default"])},"6b5f":function(t,e,o){},"829d":function(t,e,o){"use strict";var n,a=function(){var t=this,e=t.$createElement;t._self._c},i=[];o.d(e,"b",function(){return a}),o.d(e,"c",function(){return i}),o.d(e,"a",function(){return n})},9155:function(t,e,o){"use strict";o.r(e);var n=o("6947"),a=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=a.a}},[["59d2","common/runtime","common/vendor"]]]);
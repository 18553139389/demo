(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addUser/addUser"],{2396:function(t,e,a){"use strict";a.r(e);var o=a("7aaa"),n=a("849a");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("4605");var i=a("2877"),d=Object(i["a"])(n["default"],o["a"],o["b"],!1,null,"547f1096",null);e["default"]=d.exports},4605:function(t,e,a){"use strict";var o=a("b748"),n=a.n(o);n.a},"7aaa":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},"849a":function(t,e,a){"use strict";a.r(e);var o=a("cd84"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e["default"]=n.a},"8d50":function(t,e,a){"use strict";(function(t){a("2448"),a("921b");o(a("66fd"));var e=o(a("2396"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},b748:function(t,e,a){},cd84:function(t,e,a){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("131d"),s=i(a("5264"));function i(t){return t&&t.__esModule?t:{default:t}}var d={data:function(){return{title:"新增成员",Color:"#333",user:"",tel:"",name:"",navList:[{id:"1",name:"董事长"},{id:"2",name:"管理员"},{id:"3",name:"员工"}],radio:"1",pass:"",check:!1,check1:!1,check2:!1,check3:!1,check4:!1,type:0,ids:""}},onLoad:function(t){1==t.type?(this.title="修改信息",this.type=t.type,this.ids=t.id,this.check4=!1,this.init(t.id)):0==t.type&&(this.check4=!0)},methods:{init:function(e){var a=this,o={token:t.getStorageSync("token"),id:e,os:t.getSystemInfoSync().platform,osversion:t.getSystemInfoSync().system,appversion:t.getStorageSync("appversion")};s.default.showLoading("",function(){var e={url:"/api/CompanyUser/GetUserInfo",data:o,success:function(e){0==e.data.Code?(s.default.hideLoading(),a.user=e.data.Customerdata.account,a.tel=e.data.Customerdata.mobile,a.name=e.data.Customerdata.cnname,a.radio=e.data.Customerdata.jobid,a.check1=!0,a.check2=!0,a.check3=!0,1==e.data.Customerdata.enabled&&(a.check=!0)):-2==e.data.Code||-1==e.data.Code?(s.default.hideLoading(),s.default.showToast(e.data.Description),t.removeStorageSync("token"),setTimeout(function(){t.redirectTo({url:"/pages/login/login"})},500)):(s.default.hideLoading(),s.default.showToast(e.data.Description))}};(0,n.ajax)(e)})},change:function(){this.check=!this.check},RadioChange:function(t){this.radio=t.detail.value},goSubmit:function(){var e=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/;if(!e.test(this.user)||this.user.length<6||this.user.length>12)s.default.showToast("账号只能是字母和数字组合6-12位");else if(""!=this.tel)if(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.tel)){var a=/^[\u2E80-\u9FFF]+$/;if(!a.test(this.name)||this.name.length>6||0==this.name.length)s.default.showToast("请输入6位以内的汉字");else{var i=this;if(1==this.type){var d={token:t.getStorageSync("token"),id:i.ids,cnname:this.name,jobid:i.radio,enabled:i.check?1:0,os:t.getSystemInfoSync().platform,osversion:t.getSystemInfoSync().system,appversion:t.getStorageSync("appversion")};s.default.showLoading("",function(){var e={url:"/api/CompanyUser/ModifyInfo",data:d,success:function(e){console.log(o(JSON.stringify(e)," at pages\\addUser\\addUser.vue:181")),0==e.data.Code?(s.default.hideLoading(),s.default.showToast("修改成功"),setTimeout(function(){t.navigateBack({delta:1})},500)):-2==e.data.Code||-1==e.data.Code?(s.default.hideLoading(),s.default.showToast(e.data.Description),t.removeStorageSync("token"),setTimeout(function(){t.redirectTo({url:"/pages/login/login"})},500)):(s.default.hideLoading(),s.default.showToast(e.data.Description))}};(0,n.ajax)(e)})}else{if(!e.test(this.pass)||this.pass.length<6||this.pass.length>12)return void s.default.showToast("密码只能是字母和数字组合6-12位");var u={token:t.getStorageSync("token"),account:this.user,password:this.pass,mobileno:this.tel,cnname:this.name,isuse:this.check?1:0,jobid:this.radio,os:t.getSystemInfoSync().platform,osversion:t.getSystemInfoSync().system,appversion:t.getStorageSync("appversion")};s.default.showLoading("",function(){var e={url:"/api/CompanyUser/AddCompanyUser",data:u,success:function(e){console.log(o(JSON.stringify(e)," at pages\\addUser\\addUser.vue:230")),0==e.data.Code?(s.default.hideLoading(),s.default.showToast("添加成功"),setTimeout(function(){t.navigateBack({delta:1})},500)):-2==e.data.Code||-1==e.data.Code?(s.default.hideLoading(),s.default.showToast(e.data.Description),t.removeStorageSync("token"),setTimeout(function(){t.redirectTo({url:"/pages/login/login"})},500)):(s.default.hideLoading(),s.default.showToast(e.data.Description))}};(0,n.ajax)(e)})}}}else s.default.showToast("手机号格式不正确");else s.default.showToast("手机号不能为空")}}};e.default=d}).call(this,a("6e42")["default"],a("0de9")["default"])}},[["8d50","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addUser/addUser"],{"78dc":function(e,t,a){},"7f36":function(e,t,a){"use strict";var o=a("78dc"),n=a.n(o);n.a},a46e:function(e,t,a){"use strict";var o,n=function(){var e=this,t=e.$createElement;e._self._c},s=[];a.d(t,"b",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return o})},bcb8:function(e,t,a){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("01bc"),s=i(a("d4ef"));function i(e){return e&&e.__esModule?e:{default:e}}var d={data:function(){return{title:"新增成员",Color:"#333",user:"",tel:"",name:"",navList:[{id:"1",name:"董事长"},{id:"2",name:"管理员"},{id:"3",name:"员工"}],radio:"1",pass:"",check:!1,check1:!1,check2:!1,check3:!1,check4:!1,type:0,ids:""}},onLoad:function(e){1==e.type?(this.title="修改信息",this.type=e.type,this.ids=e.id,this.check4=!1,this.init(e.id)):0==e.type&&(this.check4=!0)},methods:{init:function(t){var a=this,o={token:e.getStorageSync("token"),id:t,os:e.getSystemInfoSync().platform,osversion:e.getSystemInfoSync().system,appversion:e.getStorageSync("appversion")};s.default.showLoading("",function(){var t={url:"/api/CompanyUser/GetUserInfo",data:o,success:function(t){0==t.data.Code?(s.default.hideLoading(),a.user=t.data.Customerdata.account,a.tel=t.data.Customerdata.mobile,a.name=t.data.Customerdata.cnname,a.radio=t.data.Customerdata.jobid,a.check1=!0,a.check2=!0,a.check3=!0,1==t.data.Customerdata.enabled&&(a.check=!0)):-2==t.data.Code||-1==t.data.Code?(s.default.hideLoading(),s.default.showToast(t.data.Description),e.removeStorageSync("token"),setTimeout(function(){e.redirectTo({url:"/pages/login/login"})},500)):(s.default.hideLoading(),s.default.showToast(t.data.Description))}};(0,n.ajax)(t)})},change:function(){this.check=!this.check},RadioChange:function(e){this.radio=e.detail.value},goSubmit:function(){var t=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/;if(!t.test(this.user)||this.user.length<6||this.user.length>12)s.default.showToast("账号只能是字母和数字组合6-12位");else if(""!=this.tel)if(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.tel)){var a=/^[\u2E80-\u9FFF]+$/;if(!a.test(this.name)||this.name.length>6||0==this.name.length)s.default.showToast("请输入6位以内的汉字");else{var i=this;if(1==this.type){var d={token:e.getStorageSync("token"),id:i.ids,cnname:this.name,jobid:i.radio,enabled:i.check?1:0,os:e.getSystemInfoSync().platform,osversion:e.getSystemInfoSync().system,appversion:e.getStorageSync("appversion")};s.default.showLoading("",function(){var t={url:"/api/CompanyUser/ModifyInfo",data:d,success:function(t){console.log(o(JSON.stringify(t)," at pages\\addUser\\addUser.vue:180")),0==t.data.Code?(s.default.hideLoading(),s.default.showToast("修改成功"),setTimeout(function(){e.navigateBack({delta:1})},500)):-2==t.data.Code||-1==t.data.Code?(s.default.hideLoading(),s.default.showToast(t.data.Description),e.removeStorageSync("token"),setTimeout(function(){e.redirectTo({url:"/pages/login/login"})},500)):(s.default.hideLoading(),s.default.showToast(t.data.Description))}};(0,n.ajax)(t)})}else{if(!t.test(this.pass)||this.pass.length<6||this.pass.length>12)return void s.default.showToast("密码只能是字母和数字组合6-12位");var c={token:e.getStorageSync("token"),account:this.user,password:this.pass,mobileno:this.tel,cnname:this.name,isuse:this.check?1:0,jobid:this.radio,os:e.getSystemInfoSync().platform,osversion:e.getSystemInfoSync().system,appversion:e.getStorageSync("appversion")};s.default.showLoading("",function(){var t={url:"/api/CompanyUser/AddCompanyUser",data:c,success:function(t){console.log(o(JSON.stringify(t)," at pages\\addUser\\addUser.vue:229")),0==t.data.Code?(s.default.hideLoading(),s.default.showToast("添加成功"),setTimeout(function(){e.navigateBack({delta:1})},500)):-2==t.data.Code||-1==t.data.Code?(s.default.hideLoading(),s.default.showToast(t.data.Description),e.removeStorageSync("token"),setTimeout(function(){e.redirectTo({url:"/pages/login/login"})},500)):(s.default.hideLoading(),s.default.showToast(t.data.Description))}};(0,n.ajax)(t)})}}}else s.default.showToast("手机号格式不正确");else s.default.showToast("手机号不能为空")}}};t.default=d}).call(this,a("6e42")["default"],a("0de9")["default"])},bd3e:function(e,t,a){"use strict";a.r(t);var o=a("a46e"),n=a("cb1b");for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a("7f36");var i,d=a("f0c5"),c=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"8b01533e",null,!1,o["a"],i);t["default"]=c.exports},cb1b:function(e,t,a){"use strict";a.r(t);var o=a("bcb8"),n=a.n(o);for(var s in o)"default"!==s&&function(e){a.d(t,e,function(){return o[e]})}(s);t["default"]=n.a},eefd:function(e,t,a){"use strict";(function(e){a("9fbb"),a("921b");o(a("66fd"));var t=o(a("bd3e"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])}},[["eefd","common/runtime","common/vendor"]]]);